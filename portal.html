<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>🔥 Angry Grievance Portal + Rage Meter 🔥</title>
  <style>
    body {
      background-image: url('https://raw.githubusercontent.com/avig007/gf_grievance_portal/6dc28ca896a26675381de6b3a73833c604ccbca4/IMG_1146%20(1).JPG');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      color: #f44336;
      font-family: 'Courier New', Courier, monospace;
      padding: 20px;
      backdrop-filter: brightness(0.6);
    }

    h1 {
      font-size: 2em;
      text-align: center;
      margin-bottom: 30px;
      text-transform: uppercase;
      border-bottom: 2px solid #f44336;
      padding-bottom: 10px;
      background-color: rgba(0, 0, 0, 0.6);
    }

    label {
      display: block;
      margin-top: 20px;
      font-size: 1.1em;
      font-weight: bold;
      background-color: rgba(0, 0, 0, 0.6);
      padding: 5px;
    }

    .checkbox-group, .text-group, .range-group {
      margin-left: 25px;
      margin-top: 10px;
    }

    input[type="checkbox"] {
      margin-right: 8px;
    }

    textarea {
      width: 90%;
      height: 100px;
      background-color: #2a2a2a;
      color: #f44336;
      border: 1px solid #f44336;
      padding: 10px;
      font-family: 'Courier New', Courier, monospace;
      resize: vertical;
    }

    input[type="range"] {
      width: 80%;
    }

    button {
      margin-top: 30px;
      padding: 12px 24px;
      font-size: 1em;
      background-color: #f44336;
      color: white;
      border: none;
      cursor: pointer;
      display: block;
      margin-left: auto;
      margin-right: auto;
      font-weight: bold;
    }

    button:hover {
      background-color: #ff6659;
    }

    a {
      color: #aaffaa;
      text-decoration: underline;
    }

    #uploadLinkContainer label {
      background-color: transparent;
      color: #aaffaa;
    }

    /* Rage Meter styles */
    .rage-container {
      margin-bottom: 30px;
      background-color: #333;
      border: 2px solid #f44336;
      border-radius: 10px;
      overflow: hidden;
      width: 90%;
      height: 30px;
      margin-left: auto;
      margin-right: auto;
      position: relative;
      box-shadow: inset 0 0 10px #ff0000;
    }

    .rage-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(to right, #f44336, #ff1744);
      transition: width 0.4s ease-in-out, background-color 0.4s ease-in-out, box-shadow 0.4s ease-in-out;
      box-shadow: 0 0 10px #ff1744;
    }

    .rage-label {
      position: absolute;
      width: 100%;
      text-align: center;
      top: 3px;
      color: #fff;
      font-size: 14px;
      font-weight: bold;
      pointer-events: none;
      text-shadow: 0 0 5px #ff0000;
    }

    /* Fire animation container */
    #fireAnimation {
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 150px;
      height: 150px;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.5s ease;
      z-index: 9999;
    }

    /* Flames */
    @keyframes flicker {
      0%, 100% { transform: scale(1) translateX(0); opacity: 1; }
      50% { transform: scale(1.05) translateX(2px); opacity: 0.8; }
    }

    .flame {
      position: absolute;
      bottom: 0;
      width: 20px;
      height: 50px;
      background: radial-gradient(circle at 50% 100%, #ff3c00, transparent 70%);
      border-radius: 50% 50% 50% 50% / 70% 70% 30% 30%;
      animation: flicker 0.7s infinite ease-in-out;
      filter: drop-shadow(0 0 10px #ff3c00);
    }

    .flame:nth-child(1) { left: 15px; animation-delay: 0s; height: 40px;}
    .flame:nth-child(2) { left: 45px; animation-delay: 0.2s; height: 55px;}
    .flame:nth-child(3) { left: 75px; animation-delay: 0.4s; height: 50px;}
    .flame:nth-child(4) { left: 105px; animation-delay: 0.3s; height: 45px;}

    /* Custom input style */
    .custom-option-input {
      margin-top: 5px;
      margin-left: 25px;
      width: 80%;
      background-color: #2a2a2a;
      border: 1px solid #f44336;
      color: #f44336;
      padding: 5px;
      font-family: 'Courier New', Courier, monospace;
      font-size: 0.9em;
      border-radius: 3px;
    }

  </style>
</head>
<body>
  <h1>😠 Angry Grievance Portal 😠</h1>

  <div class="rage-container">
    <div class="rage-bar" id="rageBar"></div>
    <div class="rage-label" id="rageLabel">Rage Level: 0%</div>
  </div>

  <div id="fireAnimation" aria-hidden="true">
    <div class="flame"></div>
    <div class="flame"></div>
    <div class="flame"></div>
    <div class="flame"></div>
  </div>

  <div class="question">
    <label>Your Name</label>
    <select name="Username">
      <option value="">❤️</option>
      <option value="AVI">AVI💪</option>
      <option value="SHARINI">👙👠SHARINI💅🌸</option>
    </select>
  </div>
  
  <form id="grievanceForm">
    <label>What made you irritated lately with your partner? 🤬 (select all that apply + add your own!)</label>
    <div class="checkbox-group" id="grievanceCheckboxes">
      <label><input type="checkbox" name="grievances" value="Ignoring texts and calls">📵 Ignoring texts and calls</label>
      <label><input type="checkbox" name="grievances" value="Lack of appreciation">😒 Lack of appreciation</label>
      <label><input type="checkbox" name="grievances" value="Obsessed with phone">📱 Obsessed with phone</label>
      <label><input type="checkbox" name="grievances" value="Poor communication">🗯️ Poor communication</label>
      <label><input type="checkbox" name="grievances" value="Selective listening disorder">👂 Selective listening disorder</label>
      <label><input type="checkbox" name="grievances" value="Breaking promises casually">💔 Breaking promises casually</label>
      <label><input type="checkbox" name="grievances" value="Leaving trails of mess">🧻 Leaving trails of mess like breadcrumbs</label>
      <label><input type="checkbox" name="grievances" value="Running late to everything">⏰ Running late to every single thing</label>
      <label><input type="checkbox" name="grievances" value="Using “I forgot” as excuse">😤 Using “I forgot” as an official excuse</label>
      <label><input type="checkbox" name="grievances" value="Silent treatment weapon">🤐 Deploying the silent treatment like a weapon</label>
      <label><input type="checkbox" name="grievances" value="Dishes stayed in sink">🍽️ Dishes stayed in sink long enough to gain consciousness</label>
      <label><input type="checkbox" name="grievances" value="Saying 'I'm fine' when not">📢 Saying "I'm fine" when clearly NOT fine</label>
    </div>
    <input type="text" id="customGrievance" class="custom-option-input" placeholder="Add your own grievance here" />

    <label>What canceled plans or surprises ruined your mood? 🤡 (select all that apply + add your own!)</label>
    <div class="checkbox-group" id="cancelCheckboxes">
      <label><input type="checkbox" name="cancellations" value="Last-minute plan cancellation">📅 Last-minute plan cancellation</label>
      <label><input type="checkbox" name="cancellations" value="Forgot anniversary">🎉 Forgot anniversary</label>
      <label><input type="checkbox" name="cancellations" value="Ignoring birthday wishes">🎂 Ignoring birthday wishes</label>
      <label><input type="checkbox" name="cancellations" value="Spoiled surprise party">🎈 Spoiled surprise party</label>
    </div>
    <input type="text" id="customCancellation" class="custom-option-input" placeholder="Add your own canceled plan or surprise" />

    <label>What memes or posts have caused damage to your social media reputation? 😱 (select all + add your own!)</label>
    <div class="checkbox-group" id="memeCheckboxes">
      <label><input type="checkbox" name="memes" value="Awkward tagged photo">📸 Awkward tagged photo</label>
      <label><input type="checkbox" name="memes" value="Embarrassing status update">📝 Embarrassing status update</label>
      <label><input type="checkbox" name="memes" value="Deleted but screenshot exists">📷 Deleted but screenshot exists</label>
      <label><input type="checkbox" name="memes" value="Funny but humiliating meme">🤣 Funny but humiliating meme</label>
    </div>
    <input type="text" id="customMemeDamage" class="custom-option-input" placeholder="Add your own meme damage" />

    <label>What kind of compensation do you expect? 💸 (select all that apply + add your own!)</label>
    <div class="checkbox-group" id="compensationCheckboxes">
      <label><input type="checkbox" name="compensations" value="Dinner date">🍽️ Dinner date</label>
      <label><input type="checkbox" name="compensations" value="Spa day">💆 Spa day</label>
      <label><input type="checkbox" name="compensations" value="Movie night">🎬 Movie night</label>
      <label><input type="checkbox" name="compensations" value="Apology note">📝 Apology note</label>
      <label><input type="checkbox" name="compensations" value="Chore takeover">🧹 Chore takeover</label>
    </div>
    <input type="text" id="customCompensation" class="custom-option-input" placeholder="Add your own compensation idea" />

    <label>Rate your petty behavior level (0 = Zen, 10 = Nuclear)</label>
    <div class="range-group">
      <input type="range" id="pettyLevel" min="0" max="10" value="0" />
      <span id="pettyValue">0</span>/10
    </div>

    <label>Rant your heart out! 🔥 (optional)</label>
    <textarea id="rantText" placeholder="Write your rant here..."></textarea>

    <button type="submit">Submit Grievance</button>
  </form>

  <script>
    const rageBar = document.getElementById('rageBar');
    const rageLabel = document.getElementById('rageLabel');
    const fireAnimation = document.getElementById('fireAnimation');
    const pettyLevelInput = document.getElementById('pettyLevel');
    const pettyValue = document.getElementById('pettyValue');

    pettyLevelInput.addEventListener('input', () => {
      pettyValue.textContent = pettyLevelInput.value;
      updateRageBar(calculateRageLevel());
    });

    // Update rage bar and fire animation
    function updateRageBar(rage) {
      rageBar.style.width = rage + '%';
      rageLabel.textContent = `Rage Level: ${rage}%`;

      if (rage >= 100) {
        rageBar.style.background = 'linear-gradient(to right, #ff0000, #ff8800)';
        rageBar.style.boxShadow = '0 0 20px 5px #ff6600';
        fireAnimation.style.opacity = '1';
        playAlarmSound();
      } else if (rage >= 75) {
        rageBar.style.background = 'linear-gradient(to right, #ff4500, #ff8c00)';
        rageBar.style.boxShadow = '0 0 15px 4px #ff5a00';
        fireAnimation.style.opacity = '0';
        stopAlarmSound();
      } else if (rage >= 50) {
        rageBar.style.background = 'linear-gradient(to right, #ff6347, #ffa07a)';
        rageBar.style.boxShadow = '0 0 10px 3px #ff7f50';
        fireAnimation.style.opacity = '0';
        stopAlarmSound();
      } else {
        rageBar.style.background = 'linear-gradient(to right, #f44336, #ff1744)';
        rageBar.style.boxShadow = '0 0 10px #ff1744';
        fireAnimation.style.opacity = '0';
        stopAlarmSound();
      }
    }

    // Sound alarm setup
    let alarmAudio = null;

    function playAlarmSound() {
      if (!alarmAudio) {
        alarmAudio = new Audio('https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg');
        alarmAudio.loop = true;
      }
      if (alarmAudio.paused) {
        alarmAudio.play();
      }
    }

    function stopAlarmSound() {
      if (alarmAudio && !alarmAudio.paused) {
        alarmAudio.pause();
        alarmAudio.currentTime = 0;
      }
    }

    // Utility: get all checked values + custom text (if any)
    function getCheckedValuesAndCustom(checkboxGroupId, customInputId) {
      const checked = Array.from(document.querySelectorAll(`#${checkboxGroupId} input[type="checkbox"]:checked`)).map(cb => cb.value);
      const custom = document.getElementById(customInputId).value.trim();
      if (custom) checked.push(custom);
      return checked;
    }

    // Calculate rage level based on grievances count + petty level
    function calculateRageLevel() {
      const grievances = getCheckedValuesAndCustom('grievanceCheckboxes', 'customGrievance');
      const cancellations = getCheckedValuesAndCustom('cancelCheckboxes', 'customCancellation');
      const memeDamage = getCheckedValuesAndCustom('memeCheckboxes', 'customMemeDamage');
      const compensations = getCheckedValuesAndCustom('compensationCheckboxes', 'customCompensation');
      const pettyLevel = Number(pettyLevelInput.value);

      // Simple formula:
      // Rage base = number of grievances + cancellations + meme damage + compensations
      // Rage adjusted by pettyLevel out of 10 (multiplier)
      let baseRage = grievances.length + cancellations.length + memeDamage.length + compensations.length;
      let rage = Math.min(100, (baseRage * 10) + (pettyLevel * 5)); // cap at 100%

      return rage;
    }

    // On form submission
    document.getElementById('grievanceForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const nameSelect = this.querySelector('select[name="Username"]');
      const username = nameSelect.value || 'Anonymous';

      const grievances = getCheckedValuesAndCustom('grievanceCheckboxes', 'customGrievance');
      const cancellations = getCheckedValuesAndCustom('cancelCheckboxes', 'customCancellation');
      const memeDamage = getCheckedValuesAndCustom('memeCheckboxes', 'customMemeDamage');
      const compensations = getCheckedValuesAndCustom('compensationCheckboxes', 'customCompensation');
      const pettyLevel = pettyLevelInput.value;
      const rant = document.getElementById('rantText').value.trim();

      const rageLevel = calculateRageLevel();

      // Show rage meter update
      updateRageBar(rageLevel);

      // Build summary message
      let message = `Grievance submitted by: ${username}\n\n`;
      message += `Grievances: ${grievances.join(', ') || 'None'}\n`;
      message += `Cancellations: ${cancellations.join(', ') || 'None'}\n`;
      message += `Meme Damage: ${memeDamage.join(', ') || 'None'}\n`;
      message += `Desired Compensation: ${compensations.join(', ') || 'None'}\n`;
      message += `Petty Behavior Level: ${pettyLevel}/10\n\n`;
      message += `Rant:\n${rant || 'No rant provided.'}`;

      alert(message);

      // Optionally reset form
      // this.reset();
      // updateRageBar(0);
    });

  </script>
</body>
</html>
